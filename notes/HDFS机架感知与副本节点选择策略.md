## 机架感知

## 副本选择策略

1.第一个副本：
* 如果客户端是集群中的节点，那么就将第一个副本放在客户端所在的节点；
* 否则，在集群中随机选择一个节点放置第一个副本。

2.第二个副本
在另外一个机架上的随机节点上

3.第三个副本
放置在第二个副本所在机架的另外一个节点上。

副本放置的原因：
1.第一个副本放在客户端同在的节点上，原因：节点距离最近，写入速度最快；
2.第二个副本放置在其他的机架，主要出于数据可靠性的考虑。
3.第三个副本放在与第二个副本同一个机架上，主要出于效率的考量。机架内数据传输要比跨机架传输的速度要快很多。
